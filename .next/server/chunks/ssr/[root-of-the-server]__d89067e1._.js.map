{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../app/transcript/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport React, { useState, useEffect } from 'react';\n// import './Transcript.css'; // Moved to globals.css\n\ninterface TranscriptHistoryItem {\n  title: string;\n  url: string;\n  snippet: string;\n  full_text: string;\n  date: string;\n}\n\nexport default function TranscriptPage() {\n  const [apiKey, setApiKey] = useState('');\n  const [url, setUrl] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [result, setResult] = useState<{ title: string; transcript: string } | null>(null);\n  const [history, setHistory] = useState<TranscriptHistoryItem[]>([]);\n  const [isCopied, setIsCopied] = useState(false);\n\n  // Load history from local storage on mount\n  useEffect(() => {\n    const savedHistory = localStorage.getItem('transcript_history');\n    if (savedHistory) {\n      try {\n        setHistory(JSON.parse(savedHistory));\n      } catch (e) {\n        console.error(\"Failed to parse history\", e);\n      }\n    }\n  }, []);\n\n  const saveHistory = (newItem: TranscriptHistoryItem) => {\n    const updatedHistory = [newItem, ...history].slice(0, 50); // Limit to 50 items\n    setHistory(updatedHistory);\n    localStorage.setItem('transcript_history', JSON.stringify(updatedHistory));\n  };\n\n  const handleTranscribe = async () => {\n    if (!url.trim()) {\n      setError(\"INPUT_REQUIRED: PLEASE ENTER A VALID URL.\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const headers: Record<string, string> = {\n        'Content-Type': 'application/json',\n      };\n      if (apiKey) {\n        headers['X-API-KEY'] = apiKey;\n      }\n\n      // Note: This expects the backend to be running on localhost:8080 or proxied via Vite config.\n      // Since we are in dev mode, we might need to point to the absolute URL if proxy isn't set up.\n      // For now, assuming the user might run the backend locally on port 8080.\n      const backendUrl = 'http://localhost:8080/transcribe'; \n\n      const response = await fetch(backendUrl, {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify({ url: url }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        let msg = data.error || \"UNKNOWN_ERROR\";\n        if (response.status === 401) msg = \"ACCESS_DENIED: INVALID API KEY\";\n        throw new Error(msg);\n      }\n\n      setResult({\n        title: data.title,\n        transcript: data.transcript\n      });\n\n      saveHistory({\n        title: data.title,\n        url: url,\n        snippet: data.transcript.substring(0, 60) + \"...\",\n        full_text: data.transcript,\n        date: new Date().toISOString()\n      });\n\n    } catch (err: any) {\n      setError(\"SYSTEM_FAILURE: \" + err.message?.toUpperCase());\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const copyToClipboard = () => {\n    if (result) {\n      navigator.clipboard.writeText(result.transcript).then(() => {\n        setIsCopied(true);\n        setTimeout(() => setIsCopied(false), 2000);\n      });\n    }\n  };\n\n  const loadHistoryItem = (item: TranscriptHistoryItem) => {\n    setUrl(item.url);\n    setResult({\n      title: item.title,\n      transcript: item.full_text\n    });\n    setError(null);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const clearHistory = () => {\n    setHistory([]);\n    localStorage.removeItem('transcript_history');\n  };\n\n  const wordCount = result ? result.transcript.split(/\\s+/).length : 0;\n\n  return (\n    <div className=\"transcript-page flex flex-col\">\n       <div className=\"bg-grid\"></div>\n       <div className=\"scanlines\"></div>\n\n       <div className=\"container mx-auto px-4 py-6 md:py-12 max-w-3xl relative z-10 flex-grow\">\n          {/* Header */}\n          <header className=\"mb-8 md:mb-12 text-center\">\n            <div className=\"glitch-wrapper mb-2\">\n                <h1 className=\"text-3xl md:text-6xl glitch\" data-text=\"SHORTS_TRANSCRIBER\">SHORTS_TRANSCRIBER</h1>\n            </div>\n            <p className=\"text-[10px] md:text-sm tracking-widest uppercase opacity-60 font-mono-code text-gray-400\">\n                <span style={{ color: '#ff0055' }}>&gt;</span> Connect to the Wired // Extract Audio Data\n            </p>\n          </header>\n\n          <main className=\"space-y-6 md:space-y-8\">\n             {/* Controls Area */}\n            <div className=\"bg-black bg-opacity-80 p-4 md:p-6 border border-gray-800 backdrop-blur-sm\">\n                \n                {/* API Key Input */}\n                <div className=\"mb-6\">\n                    <label htmlFor=\"api-key\" className=\"block text-xs uppercase tracking-wider mb-2 text-gray-500\">Access Key (API)</label>\n                    <input\n                        type=\"password\"\n                        id=\"api-key\"\n                        className=\"cyber-input w-full p-3 rounded-none text-base\"\n                        placeholder=\"ENTER_API_KEY_OR_LEAVE_BLANK_FOR_DEMO\"\n                        value={apiKey}\n                        onChange={(e) => setApiKey(e.target.value)}\n                    />\n                </div>\n\n                {/* URL Input */}\n                <div className=\"mb-8\">\n                    <label htmlFor=\"video-url\" className=\"block text-xs uppercase tracking-wider mb-2 text-gray-500\">Target Source (URL)</label>\n                    <div className=\"flex flex-col md:flex-row gap-4\">\n                        <input\n                            type=\"url\"\n                            id=\"video-url\"\n                            className=\"cyber-input w-full p-3 rounded-none text-base flex-grow\"\n                            placeholder=\"https://youtube.com/shorts/...\"\n                            value={url}\n                            onChange={(e) => setUrl(e.target.value)}\n                        />\n                        <button \n                            onClick={handleTranscribe} \n                            disabled={isLoading}\n                            className=\"cyber-btn px-8 py-3 w-full md:w-auto text-sm tracking-widest\"\n                        >\n                            <span className=\"btn-text\">{isLoading ? \"PROCESSING...\" : \"EXECUTE\"}</span>\n                        </button>\n                    </div>\n                </div>\n\n                {/* Loader */}\n                {isLoading && (\n                    <div className=\"mb-4\">\n                        <p className=\"font-mono-code text-xs text-[#ff0055] mb-1 animate-pulse\">ESTABLISHING CONNECTION...</p>\n                        <div className=\"loader-bar\"></div>\n                    </div>\n                )}\n\n                {/* Error Msg */}\n                {error && (\n                    <div className=\"p-3 border border-red-500 bg-red-900 bg-opacity-10 text-red-400 text-xs font-mono-code mb-4\">\n                        {error}\n                    </div>\n                )}\n            </div>\n\n            {/* Result Area */}\n            {result && (\n                <div id=\"result-area\">\n                    <div className=\"flex justify-between items-end mb-2\">\n                        <h3 className=\"text-xs md:text-sm uppercase tracking-widest text-gray-400\">Data Stream Output</h3>\n                        <div className=\"flex gap-2 items-center\">\n                            <span className=\"text-xs font-mono-code text-gray-600\">{wordCount} WORDS</span>\n                            <button \n                                onClick={copyToClipboard}\n                                className={`text-xs uppercase transition-colors font-bold ${isCopied ? 'text-[#ff0055]' : 'hover:text-[#ff0055]'}`}\n                            >\n                                {isCopied ? \"COPIED\" : \"[COPY]\"}\n                            </button>\n                        </div>\n                    </div>\n                    \n                    <div className=\"terminal-box p-4 md:p-6 min-h-[150px]\">\n                        <h4 className=\"font-bold mb-4 text-white border-b border-gray-800 pb-2 text-base md:text-lg\">\n                            {result.title}\n                        </h4>\n                        <p className=\"font-mono-code text-base md:text-lg leading-loose tracking-wide text-gray-100 typewriter-cursor break-words whitespace-pre-wrap\">\n                            {result.transcript}\n                        </p>\n                    </div>\n                </div>\n            )}\n\n            {/* History Section */}\n            <div className=\"mt-12 md:mt-16\">\n                <div className=\"flex justify-between items-center mb-4 border-b border-gray-800 pb-2\">\n                    <h3 className=\"text-lg font-bold\">LOGS / HISTORY</h3>\n                    {history.length > 0 && (\n                        <button onClick={clearHistory} className=\"text-xs text-gray-600 hover:text-red-500 transition-colors uppercase\">Clear Logs</button>\n                    )}\n                </div>\n                \n                <div className=\"space-y-3\">\n                    {history.length === 0 ? (\n                        <p className=\"text-xs text-gray-700 font-mono-code py-4 text-center\">NO DATA LOGGED.</p>\n                    ) : (\n                        history.map((item, index) => (\n                            <div \n                                key={index} \n                                onClick={() => loadHistoryItem(item)}\n                                className=\"history-item p-3 bg-black border border-gray-800 cursor-pointer group\"\n                            >\n                                <div className=\"flex justify-between mb-1\">\n                                    <span className=\"text-[#ff0055] text-xs font-bold font-mono-code\">{item.title}</span>\n                                    <span className=\"text-[10px] text-gray-600 font-mono-code\">{new Date(item.date).toLocaleString()}</span>\n                                </div>\n                                <p className=\"text-xs text-gray-400 font-mono-code truncate group-hover:text-gray-200 transition-colors\">{item.snippet}</p>\n                                <p className=\"text-[10px] text-gray-700 mt-1 truncate\">{item.url}</p>\n                            </div>\n                        ))\n                    )}\n                </div>\n            </div>\n\n          </main>\n       </div>\n\n       <footer className=\"text-center py-6 text-xs text-gray-800 font-mono-code relative z-10 mt-auto\">\n            PROTOCOL VER 2.0 // LAIN\n       </footer>\n    </div>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}