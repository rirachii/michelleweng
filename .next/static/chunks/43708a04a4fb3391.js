(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68642,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a(){let[e,a]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[c,i]=(0,s.useState)(!1),[o,n]=(0,s.useState)(null),[d,x]=(0,s.useState)(null),[m,p]=(0,s.useState)([]),[h,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("transcript_history");if(e)try{p(JSON.parse(e))}catch(e){console.error("Failed to parse history",e)}},[]);let b=async()=>{if(!r.trim())return void n("INPUT_REQUIRED: PLEASE ENTER A VALID URL.");i(!0),n(null),x(null);try{let t,s={"Content-Type":"application/json"};e&&(s["X-API-KEY"]=e);let a=await fetch("http://localhost:8080/transcribe",{method:"POST",headers:s,body:JSON.stringify({url:r})}),l=await a.json();if(!a.ok){let e=l.error||"UNKNOWN_ERROR";throw 401===a.status&&(e="ACCESS_DENIED: INVALID API KEY"),Error(e)}x({title:l.title,transcript:l.transcript}),t=[{title:l.title,url:r,snippet:l.transcript.substring(0,60)+"...",full_text:l.transcript,date:new Date().toISOString()},...m].slice(0,50),p(t),localStorage.setItem("transcript_history",JSON.stringify(t))}catch(e){n("SYSTEM_FAILURE: "+e.message?.toUpperCase())}finally{i(!1)}},g=d?d.transcript.split(/\s+/).length:0;return(0,t.jsxs)("div",{className:"transcript-page flex flex-col",children:[(0,t.jsx)("div",{className:"bg-grid"}),(0,t.jsx)("div",{className:"scanlines"}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 md:py-12 max-w-3xl relative z-10 flex-grow",children:[(0,t.jsxs)("header",{className:"mb-8 md:mb-12 text-center",children:[(0,t.jsx)("div",{className:"glitch-wrapper mb-2",children:(0,t.jsx)("h1",{className:"text-3xl md:text-6xl glitch","data-text":"SHORTS_TRANSCRIBER",children:"SHORTS_TRANSCRIBER"})}),(0,t.jsxs)("p",{className:"text-[10px] md:text-sm tracking-widest uppercase opacity-60 font-mono-code text-gray-400",children:[(0,t.jsx)("span",{style:{color:"#ff0055"},children:">"})," Connect to the Wired // Extract Audio Data"]})]}),(0,t.jsxs)("main",{className:"space-y-6 md:space-y-8",children:[(0,t.jsxs)("div",{className:"bg-black bg-opacity-80 p-4 md:p-6 border border-gray-800 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"api-key",className:"block text-xs uppercase tracking-wider mb-2 text-gray-500",children:"Access Key (API)"}),(0,t.jsx)("input",{type:"password",id:"api-key",className:"cyber-input w-full p-3 rounded-none text-base",placeholder:"ENTER_API_KEY_OR_LEAVE_BLANK_FOR_DEMO",value:e,onChange:e=>a(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("label",{htmlFor:"video-url",className:"block text-xs uppercase tracking-wider mb-2 text-gray-500",children:"Target Source (URL)"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("input",{type:"url",id:"video-url",className:"cyber-input w-full p-3 rounded-none text-base flex-grow",placeholder:"https://youtube.com/shorts/...",value:r,onChange:e=>l(e.target.value)}),(0,t.jsx)("button",{onClick:b,disabled:c,className:"cyber-btn px-8 py-3 w-full md:w-auto text-sm tracking-widest",children:(0,t.jsx)("span",{className:"btn-text",children:c?"PROCESSING...":"EXECUTE"})})]})]}),c&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"font-mono-code text-xs text-[#ff0055] mb-1 animate-pulse",children:"ESTABLISHING CONNECTION..."}),(0,t.jsx)("div",{className:"loader-bar"})]}),o&&(0,t.jsx)("div",{className:"p-3 border border-red-500 bg-red-900 bg-opacity-10 text-red-400 text-xs font-mono-code mb-4",children:o})]}),d&&(0,t.jsxs)("div",{id:"result-area",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,t.jsx)("h3",{className:"text-xs md:text-sm uppercase tracking-widest text-gray-400",children:"Data Stream Output"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsxs)("span",{className:"text-xs font-mono-code text-gray-600",children:[g," WORDS"]}),(0,t.jsx)("button",{onClick:()=>{d&&navigator.clipboard.writeText(d.transcript).then(()=>{u(!0),setTimeout(()=>u(!1),2e3)})},className:`text-xs uppercase transition-colors font-bold ${h?"text-[#ff0055]":"hover:text-[#ff0055]"}`,children:h?"COPIED":"[COPY]"})]})]}),(0,t.jsxs)("div",{className:"terminal-box p-4 md:p-6 min-h-[150px]",children:[(0,t.jsx)("h4",{className:"font-bold mb-4 text-white border-b border-gray-800 pb-2 text-base md:text-lg",children:d.title}),(0,t.jsx)("p",{className:"font-mono-code text-base md:text-lg leading-loose tracking-wide text-gray-100 typewriter-cursor break-words whitespace-pre-wrap",children:d.transcript})]})]}),(0,t.jsxs)("div",{className:"mt-12 md:mt-16",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b border-gray-800 pb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"LOGS / HISTORY"}),m.length>0&&(0,t.jsx)("button",{onClick:()=>{p([]),localStorage.removeItem("transcript_history")},className:"text-xs text-gray-600 hover:text-red-500 transition-colors uppercase",children:"Clear Logs"})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===m.length?(0,t.jsx)("p",{className:"text-xs text-gray-700 font-mono-code py-4 text-center",children:"NO DATA LOGGED."}):m.map((e,s)=>(0,t.jsxs)("div",{onClick:()=>{l(e.url),x({title:e.title,transcript:e.full_text}),n(null),window.scrollTo({top:0,behavior:"smooth"})},className:"history-item p-3 bg-black border border-gray-800 cursor-pointer group",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[#ff0055] text-xs font-bold font-mono-code",children:e.title}),(0,t.jsx)("span",{className:"text-[10px] text-gray-600 font-mono-code",children:new Date(e.date).toLocaleString()})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 font-mono-code truncate group-hover:text-gray-200 transition-colors",children:e.snippet}),(0,t.jsx)("p",{className:"text-[10px] text-gray-700 mt-1 truncate",children:e.url})]},s))})]})]})]}),(0,t.jsx)("footer",{className:"text-center py-6 text-xs text-gray-800 font-mono-code relative z-10 mt-auto",children:"PROTOCOL VER 2.0 // LAIN"})]})}e.s(["default",()=>a])}]);